<html>
<head>
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
  <div class="main">
    <h1>Joker Standard Namespaces</h1>
    <h2>Index</h2>
    <ul class="index">
      <li>
  <a href="#joker.base64">joker.base64</a>
</li>
<li>
  <a href="#joker.core">joker.core</a>
</li>
<li>
  <a href="#joker.crypto">joker.crypto</a>
</li>
<li>
  <a href="#joker.hex">joker.hex</a>
</li>
<li>
  <a href="#joker.html">joker.html</a>
</li>
<li>
  <a href="#joker.http">joker.http</a>
</li>
<li>
  <a href="#joker.json">joker.json</a>
</li>
<li>
  <a href="#joker.math">joker.math</a>
</li>
<li>
  <a href="#joker.os">joker.os</a>
</li>
<li>
  <a href="#joker.repl">joker.repl</a>
</li>
<li>
  <a href="#joker.set">joker.set</a>
</li>
<li>
  <a href="#joker.strconv">joker.strconv</a>
</li>
<li>
  <a href="#joker.string">joker.string</a>
</li>
<li>
  <a href="#joker.template">joker.template</a>
</li>
<li>
  <a href="#joker.test">joker.test</a>
</li>
<li>
  <a href="#joker.time">joker.time</a>
</li>
<li>
  <a href="#joker.tools.cli">joker.tools.cli</a>
</li>
<li>
  <a href="#joker.url">joker.url</a>
</li>
<li>
  <a href="#joker.walk">joker.walk</a>
</li>
<li>
  <a href="#joker.yaml">joker.yaml</a>
</li>

    </ul>
    <ul>
      <li>
  <h3 id="joker.base64">joker.base64</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Implements base64 encoding as specified by RFC 4648.</p>
  <a href="joker.base64.html">details</a>
</li>
<li>
  <h3 id="joker.core">joker.core</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Core library of Joker.</p>
  <a href="joker.core.html">details</a>
</li>
<li>
  <h3 id="joker.crypto">joker.crypto</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Implements common cryptographic and hash functions.</p>
  <a href="joker.crypto.html">details</a>
</li>
<li>
  <h3 id="joker.hex">joker.hex</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Implements hexadecimal encoding and decoding.</p>
  <a href="joker.hex.html">details</a>
</li>
<li>
  <h3 id="joker.html">joker.html</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Provides functions for escaping and unescaping HTML text.</p>
  <a href="joker.html.html">details</a>
</li>
<li>
  <h3 id="joker.http">joker.http</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Provides HTTP client and server implementations</p>
  <a href="joker.http.html">details</a>
</li>
<li>
  <h3 id="joker.json">joker.json</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Implements encoding and decoding of JSON as defined in RFC 4627.</p>
  <a href="joker.json.html">details</a>
</li>
<li>
  <h3 id="joker.math">joker.math</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Provides basic constants and mathematical functions.</p>
  <a href="joker.math.html">details</a>
</li>
<li>
  <h3 id="joker.os">joker.os</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Provides a platform-independent interface to operating system functionality.</p>
  <a href="joker.os.html">details</a>
</li>
<li>
  <h3 id="joker.repl">joker.repl</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Utilities meant to be used interactively at the REPL.</p>
  <a href="joker.repl.html">details</a>
</li>
<li>
  <h3 id="joker.set">joker.set</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Set operations such as union/intersection.</p>
  <a href="joker.set.html">details</a>
</li>
<li>
  <h3 id="joker.strconv">joker.strconv</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Implements conversions to and from string representations of basic data types.</p>
  <a href="joker.strconv.html">details</a>
</li>
<li>
  <h3 id="joker.string">joker.string</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Implements simple functions to manipulate strings.</p>
  <a href="joker.string.html">details</a>
</li>
<li>
  <h3 id="joker.template">joker.template</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Macros that expand to repeated copies of a template expression.</p>
  <a href="joker.template.html">details</a>
</li>
<li>
  <h3 id="joker.test">joker.test</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">A unit testing framework.<br>
<br>
   ASSERTIONS<br>
<br>
   The core of the library is the "is" macro, which lets you make<br>
   assertions of any arbitrary expression:<br>
<br>
   (is (= 4 (+ 2 2)))<br>
   (is (instance? Integer 256))<br>
   (is (.startsWith "abcde" "ab"))<br>
<br>
   You can type an "is" expression directly at the REPL, which will<br>
   print a message if it fails.<br>
<br>
       user> (is (= 5 (+ 2 2)))<br>
<br>
       FAIL in  (:1)<br>
       expected: (= 5 (+ 2 2))<br>
         actual: (not (= 5 4))<br>
       false<br>
<br>
   The "expected:" line shows you the original expression, and the<br>
   "actual:" shows you what actually happened.  In this case, it<br>
   shows that (+ 2 2) returned 4, which is not = to 5.  Finally, the<br>
   "false" on the last line is the value returned from the<br>
   expression.  The "is" macro always returns the result of the<br>
   inner expression.<br>
<br>
   There are two special assertions for testing exceptions.  The<br>
   "(is (thrown? c ...))" form tests if an exception of class c is<br>
   thrown:<br>
<br>
   (is (thrown? ArithmeticException (/ 1 0)))<br>
<br>
   "(is (thrown-with-msg? c re ...))" does the same thing and also<br>
   tests that the message on the exception matches the regular<br>
   expression re:<br>
<br>
   (is (thrown-with-msg? ArithmeticException #"Divide by zero"<br>
                         (/ 1 0)))<br>
<br>
   DOCUMENTING TESTS<br>
<br>
   "is" takes an optional second argument, a string describing the<br>
   assertion.  This message will be included in the error report.<br>
<br>
   (is (= 5 (+ 2 2)) "Crazy arithmetic")<br>
<br>
   In addition, you can document groups of assertions with the<br>
   "testing" macro, which takes a string followed by any number of<br>
   assertions.  The string will be included in failure reports.<br>
   Calls to "testing" may be nested, and all of the strings will be<br>
   joined together with spaces in the final report, in a style<br>
   similar to RSpec <http://rspec.info/><br>
<br>
   (testing "Arithmetic"<br>
     (testing "with positive integers"<br>
       (is (= 4 (+ 2 2)))<br>
       (is (= 7 (+ 3 4))))<br>
     (testing "with negative integers"<br>
       (is (= -4 (+ -2 -2)))<br>
       (is (= -1 (+ 3 -4)))))<br>
<br>
   Note that, unlike RSpec, the "testing" macro may only be used<br>
   INSIDE a "deftest" or "with-test" form (see below).<br>
<br>
<br>
   DEFINING TESTS<br>
<br>
   There are two ways to define tests.  The "with-test" macro takes<br>
   a defn or def form as its first argument, followed by any number<br>
   of assertions.  The tests will be stored as metadata on the<br>
   definition.<br>
<br>
   (with-test<br>
       (defn my-function [x y]<br>
         (+ x y))<br>
     (is (= 4 (my-function 2 2)))<br>
     (is (= 7 (my-function 3 4))))<br>
<br>
   As of Clojure SVN rev. 1221, this does not work with defmacro.<br>
   See http://code.google.com/p/clojure/issues/detail?id=51<br>
<br>
   The other way lets you define tests separately from the rest of<br>
   your code, even in a different namespace:<br>
<br>
   (deftest addition<br>
     (is (= 4 (+ 2 2)))<br>
     (is (= 7 (+ 3 4))))<br>
<br>
   (deftest subtraction<br>
     (is (= 1 (- 4 3)))<br>
     (is (= 3 (- 7 4))))<br>
<br>
   This creates functions named "addition" and "subtraction", which<br>
   can be called like any other function.  Therefore, tests can be<br>
   grouped and composed, in a style similar to the test framework in<br>
   Peter Seibel's "Practical Common Lisp"<br>
   <http://www.gigamonkeys.com/book/practical-building-a-unit-test-framework.html><br>
<br>
   (deftest arithmetic<br>
     (addition)<br>
     (subtraction))<br>
<br>
   The names of the nested tests will be joined in a list, like<br>
   "(arithmetic addition)", in failure reports.  You can use nested<br>
   tests to set up a context shared by several tests.<br>
<br>
<br>
   RUNNING TESTS<br>
<br>
   Run tests with the function "(run-tests namespaces...)":<br>
<br>
   (run-tests 'your.namespace 'some.other.namespace)<br>
<br>
   If you don't specify any namespaces, the current namespace is<br>
   used.  To run all tests in all namespaces, use "(run-all-tests)".<br>
<br>
   By default, these functions will search for all tests defined in<br>
   a namespace and run them in an undefined order.  However, if you<br>
   are composing tests, as in the "arithmetic" example above, you<br>
   probably do not want the "addition" and "subtraction" tests run<br>
   separately.  In that case, you must define a special function<br>
   named "test-ns-hook" that runs your tests in the correct order:<br>
<br>
   (defn test-ns-hook []<br>
     (arithmetic))<br>
<br>
   Note: test-ns-hook prevents execution of fixtures (see below).<br>
<br>
<br>
   OMITTING TESTS FROM PRODUCTION CODE<br>
<br>
   You can bind the variable "*load-tests*" to false when loading or<br>
   compiling code in production.  This will prevent any tests from<br>
   being created by "with-test" or "deftest".<br>
<br>
<br>
   FIXTURES<br>
<br>
   Fixtures allow you to run code before and after tests, to set up<br>
   the context in which tests should be run.<br>
<br>
   A fixture is just a function that calls another function passed as<br>
   an argument.  It looks like this:<br>
<br>
   (defn my-fixture [f]<br>
      Perform setup, establish bindings, whatever.<br>
     (f)  Then call the function we were passed.<br>
      Tear-down / clean-up code here.<br>
    )<br>
<br>
   Fixtures are attached to namespaces in one of two ways.  "each"<br>
   fixtures are run repeatedly, once for each test function created<br>
   with "deftest" or "with-test".  "each" fixtures are useful for<br>
   establishing a consistent before/after state for each test, like<br>
   clearing out database tables.<br>
<br>
   "each" fixtures can be attached to the current namespace like this:<br>
   (use-fixtures :each fixture1 fixture2 ...)<br>
   The fixture1, fixture2 are just functions like the example above.<br>
   They can also be anonymous functions, like this:<br>
   (use-fixtures :each (fn [f] setup... (f) cleanup...))<br>
<br>
   The other kind of fixture, a "once" fixture, is only run once,<br>
   around ALL the tests in the namespace.  "once" fixtures are useful<br>
   for tasks that only need to be performed once, like establishing<br>
   database connections, or for time-consuming tasks.<br>
<br>
   Attach "once" fixtures to the current namespace like this:<br>
   (use-fixtures :once fixture1 fixture2 ...)<br>
<br>
   Note: Fixtures and test-ns-hook are mutually incompatible.  If you<br>
   are using test-ns-hook, fixture functions will *never* be run.<br>
<br>
<br>
   SAVING TEST OUTPUT TO A FILE<br>
<br>
   All the test reporting functions write to the var *test-out*.  By<br>
   default, this is the same as *out*, but you can rebind it to any<br>
   PrintWriter.  For example, it could be a file opened with<br>
   clojure.java.io/writer.<br>
<br>
<br>
   EXTENDING TEST-IS (ADVANCED)<br>
<br>
   You can extend the behavior of the "is" macro by defining new<br>
   methods for the "assert-expr" multimethod.  These methods are<br>
   called during expansion of the "is" macro, so they should return<br>
   quoted forms to be evaluated.<br>
<br>
   You can plug in your own test-reporting framework by rebinding<br>
   the "report" function: (report event)<br>
<br>
   The 'event' argument is a map.  It will always have a :type key,<br>
   whose value will be a keyword signaling the type of event being<br>
   reported.  Standard events with :type value of :pass, :fail, and<br>
   :error are called when an assertion passes, fails, and throws an<br>
   exception, respectively.  In that case, the event will also have<br>
   the following keys:<br>
<br>
     :expected   The form that was expected to be true<br>
     :actual     A form representing what actually occurred<br>
     :message    The string message given as an argument to 'is'<br>
<br>
   The "testing" strings will be a list in "*testing-contexts*", and<br>
   the vars being tested will be a list in "*testing-vars*".<br>
<br>
   Your "report" function should wrap any printing calls in the<br>
   "with-test-out" macro, which rebinds *out* to the current value<br>
   of *test-out*.<br>
<br>
   For additional event types, see the examples in the code.<br>
</p>
  <a href="joker.test.html">details</a>
</li>
<li>
  <h3 id="joker.time">joker.time</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Provides functionality for measuring and displaying time.</p>
  <a href="joker.time.html">details</a>
</li>
<li>
  <h3 id="joker.tools.cli">joker.tools.cli</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Tools for working with command line arguments.</p>
  <a href="joker.tools.cli.html">details</a>
</li>
<li>
  <h3 id="joker.url">joker.url</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Parses URLs and implements query escaping.</p>
  <a href="joker.url.html">details</a>
</li>
<li>
  <h3 id="joker.walk">joker.walk</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">This file defines a generic tree walker for Clojure data<br>
         structures.  It takes any data structure (list, vector, map, set,<br>
         seq), calls a function on every element, and uses the return value<br>
         of the function in place of the original.  This makes it fairly<br>
         easy to write recursive search-and-replace functions, as shown in<br>
         the examples.<br>
<br>
         Note: "walk" supports all Clojure data structures EXCEPT maps<br>
         created with sorted-map-by.  There is no (obvious) way to retrieve<br>
         the sorting function.</p>
  <a href="joker.walk.html">details</a>
</li>
<li>
  <h3 id="joker.yaml">joker.yaml</h3>
  <span class="var-added">v1.0</span>
  <p class="var-docstr">Implements encoding and decoding of YAML.</p>
  <a href="joker.yaml.html">details</a>
</li>

    </ul>
  </div>
</body>
</html>
